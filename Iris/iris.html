<!DOCTYPE html>

<html>

    <head>

        <link rel="stylesheet" href="iris.css" type="text/css" media="screen" title="main" charset="utf-8">

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

        <script src = 'http://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.3.1/jquery.cookie.min.js'></script>

        <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/js/bootstrap.min.js"></script>
        <!--<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/css/bootstrap-combined.min.css" rel="stylesheet">-->
        <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link href="http://netdna.bootstrapcdn.com/font-awesome/3.0.2/css/font-awesome.css" rel="stylesheet">

        <script src = './jquery/kbase/kbaseWidget.js'></script>
        <script src = './jquery/kbase/kbasePrompt.js'></script>
        <script src = './jquery/kbase/kbaseDeletePrompt.js'></script>
        <script src = './jquery/kbase/kbaseLogin.js'></script>
        <script src = './jquery/kbase/kbaseIrisTerminal.js'></script>
        <script src = './jquery/kbase/kbaseAccordion.js'></script>
        <script src = './jquery/kbase/kbaseIrisCommands.js'></script>
        <script src = './jquery/kbase/kbaseIrisFileBrowser.js'></script>
        <script src = './jquery/kbase/kbaseIrisProcessList.js'></script>

        <script src = './jquery/kbase/kbaseIrisTutorial.js'></script>

        <script src="../lib/InvocationService.js" type="text/javascript" charset="utf-8"></script>

        <script type = 'text/javascript'>
            <!--

                $(function() {

                    var $plist = $('#process-list').kbaseIrisProcessList();

                    var $term = $('#terminal').kbaseIrisTerminal({
                        'promptIfUnauthenticated'   : 0,
                        'invocationURL'             : 'http://140.221.84.183:7049',
                        'commandsElement'           : $('#command-list'),
                    });

                    $('#command-list').kbaseIrisCommands(
                        {
                            client          : $term.getClient(),
                            englishCommands : false,
                            overflow        : false,
                            link            : function (evt) {
                                evt.preventDefault();
                                $('#terminal').kbaseIrisTerminal('appendInput', $(this).attr('title') + ' ');
                            }
                        }
                    );

                    var $fb = $('#file-browser').kbaseIrisFileBrowser (
                        {
                            client : $term.client,
                            $loginbox : $term.$loginbox,
                            externalControls : true,
                            processList : $plist,
                        }
                    );

                    $term.data('fileBrowser', $fb);
                    $term.data('processList', $plist);

                    $('#login').append($term.$loginbox.$elem);

                    // to see the auth token
                    // console.log( $('#terminal').terminal('authToken') );

                });

            //-->
        </script>

        <title>KBase IRIS Terminal</title>
        <link rel="icon" href="img/KBase_favicon.ico" type="image/x-icon">
        <link href="css/identity.css" rel="stylesheet">
        <link href="css/kbase-common.css" rel="stylesheet">
        <style type="text/css">
          body {
            /* padding to make room for the fixed nav bar,
               modify in css as needed. */
            padding-top: 60px;
          }
        </style>

    </head>

    <body>

        <div class="navbar navbar-fixed-top">
          <div class="navbar-inner">
            <a href="http://www.kbase.us/labs/"><img class="logo" src="img/labs_icon.png" width="46"></a>
            <a class="brand">IRIS</a>
            <ul class="nav" style="float:right;">
              <li id = 'login' style = 'padding : 9px 15px 7px 10px'></li>
            </ul>
          </div>
        </div>

        <div class = 'row-fluid'>
            <div class = 'span3'>
                <!--<img src = './img/kbase_logo.png'/ width = '220'><br/><br/>-->
                <div id = 'command-list'></div>
                <div id = 'process-list'></div>
                <div id = 'file-browser'></div>
            </div>
            <div class = 'span9'>
                <div id = 'terminal'></div>
            </div>
        </div>

        <br clear = 'all'/>


        <div id="pgfooter">Copyright &copy; 2012 DOE <a href = 'http://www.kbase.us/'>KBase</a></div>

    </body>

</html>
